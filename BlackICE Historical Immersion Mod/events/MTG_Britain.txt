add_namespace = mtg_britain 

# Abdication Crisis Edward VIII
country_event = {
	id = mtg_britain.1
	title = mtg_britain.1.t
	desc = mtg_britain.1.d
	picture = GFX_report_event_eng_edward_and_wallis

	trigger = {
		tag = ENG
		has_country_flag = ENG_king_died
		#date > 1936.6.1
		NOT = { has_country_flag = ENG_edward_abdicating }
		has_dlc = "Man the Guns"
	}
	
	fire_only_once = yes

	is_triggered_only = yes #disabled for now

	# Reject
	option = {
		name = mtg_britain.1.c
		ai_chance = {
			factor = 70
			modifier = {
				factor = 0
				is_historical_focus_on = no
			}
		}
		add_stability = 0.05
		set_country_flag = ENG_edward_abdicating
		country_event = { id = mtg_britain.14 days = 5 random = 5 }
	}

	# Accept - Morganatic marriage
	option = {
		name = mtg_britain.1.b
		ai_chance = {
			factor = 20
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0
				has_completed_focus = ENG_steady_as_she_goes
			}
		}
		add_stability = -0.05
		add_popularity = { ideology = neutrality popularity = 0.05 }
		custom_effect_tooltip = mtg_britain.1_tt
		activate_mission = ENG_abdication_crisis
		hidden_effect = { 
			country_event = { id = mtg_britain.2 days = 50 }
			country_event = { id = mtg_britain.6 days = 15 random = 10 }
		}
		set_country_flag = ENG_abdication_crisis_morganatic_marriage
		hidden_effect = {
			CAN = { country_event = { id = mtg_britain.15 } }
			SAF = { country_event = { id = mtg_britain.15 } }
			RAJ = { country_event = { id = mtg_britain.15 } }
			AST = { country_event = { id = mtg_britain.15 } }
			NZL = { country_event = { id = mtg_britain.15 } }
		}
	}

	# Accept - Normal marriage
	option = {
		name = mtg_britain.1.a
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0
				has_completed_focus = ENG_steady_as_she_goes
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = ENG_ai_behavior 
						option = DEMOCRATIC_HISTORICAL
					}
					has_game_rule = {
						rule = ENG_ai_behavior 
						option = DEMOCRATIC_ALTERNATE
					}
					has_game_rule = {
						rule = ENG_ai_behavior 
						option = COMMUNIST
					}
					has_game_rule = {
						rule = ENG_ai_behavior 
						option = FASCIST
					}
				}
			}
		}
		add_stability = -0.15
		add_popularity = { ideology = neutrality popularity = 0.1 }
		add_political_power = -25
		custom_effect_tooltip = mtg_britain.1_tt
		activate_mission = ENG_abdication_crisis
		hidden_effect = { 
			country_event = { id = mtg_britain.2 days = 50 }
			country_event = { id = mtg_britain.6 days = 15 random = 10 }
		}
		set_country_flag = ENG_abdication_crisis_normal_marriage
		hidden_effect = {
			CAN = { country_event = { id = mtg_britain.15 } }
			SAF = { country_event = { id = mtg_britain.15 } }
			RAJ = { country_event = { id = mtg_britain.15 } }
			AST = { country_event = { id = mtg_britain.15 } }
			NZL = { country_event = { id = mtg_britain.15 } }
		}
	}
}

# Abdication Crisis Edward VIII - King's support coalesces
country_event = {
	id = mtg_britain.2
	title = mtg_britain.2.t
	desc = mtg_britain.2.d
	picture = GFX_report_event_generic_rally

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.2.a
		add_popularity = { ideology = monarchism popularity = 0.1 }
		add_political_power = 100
		add_timed_idea = { idea = ENG_support_for_the_king_idea days = 150 }
		custom_effect_tooltip = mtg_britain.2_tt
		hidden_effect = { country_event = { id = mtg_britain.3 days = 50 } }
	}

	# On second thought, maybe we shouldn't
	option = {
		name = mtg_britain.2.b
		ai_chance = {
			factor = 0
		}
		country_event = { id = mtg_britain.14 days = 40 random = 10 }
		set_country_flag = ENG_abdication_crisis_changed_mind
	}
}

# Abdication Crisis Edward VIII - Government falls
country_event = {
	id = mtg_britain.3
	title = mtg_britain.3.t
	desc = mtg_britain.3.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	trigger = { NOT = { has_country_flag = ENG_abdication_crisis_changed_mind } }
	
	# Ok
	option = {
		name = mtg_britain.3.a
		add_stability = -0.15
		add_political_power = -150
		create_country_leader = {
			name = "Fallen Government"
			desc = "POLITICS_FALLEN_GOVERNMENT_DESC"
			picture = "portrait_eng_fallen_government.dds"
			expire = "1965.1.1"
			ideology = social_conservatism
			traits = {
				cabinet_crisis
			}
		}
		custom_effect_tooltip = mtg_britain.2_tt
		set_country_flag = ENG_abdication_crisis_government_fell
		hidden_effect = { country_event = { id = mtg_britain.4 days = 50 } }
	}

	# On second thought, maybe we shouldn't
	option = {
		name = mtg_britain.2.b
		ai_chance = {
			factor = 0
		}
		country_event = { id = mtg_britain.14 days = 40 random = 10 }
		set_country_flag = ENG_abdication_crisis_changed_mind
	}
}

# Abdication Crisis Edward VIII - Dominions threaten to break away
country_event = {
	id = mtg_britain.4
	title = mtg_britain.4.t
	desc = mtg_britain.4.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes

	trigger = { NOT = { has_country_flag = ENG_abdication_crisis_changed_mind } }
	
	# Ok
	option = {
		name = mtg_britain.4.a
		add_stability = -0.15
		add_political_power = -100
		if = {
			limit = {
				CAN = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				SAF = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				RAJ = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				AST = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				NZL = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
			}
			dismantle_faction = yes
		}
		remove_from_tech_sharing_group = commonwealth_research
		effect_tooltip = {
			if = {
				limit = {
					CAN = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				set_autonomy = { target = CAN autonomy_state = autonomy_free }
			}
			if = {
				limit = {
					SAF = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				set_autonomy = { target = SAF autonomy_state = autonomy_free }
			}
			if = {
				limit = {
					RAJ = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				set_autonomy = { target = RAJ autonomy_state = autonomy_free }
				RAJ = {
					drop_cosmetic_tag = yes
					retire_country_leader = yes
					remove_from_tech_sharing_group = commonwealth_research
				}
			}
			if = {
				limit = {
					AST = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				set_autonomy = { target = AST autonomy_state = autonomy_free }
			}
			if = {
				limit = {
					NZL = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				set_autonomy = { target = NZL autonomy_state = autonomy_free }
			}
			if = {
				limit = {
					CAN = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				CAN = {
					create_faction = "ENG_commonwealth_of_nations"
					if = {
						limit = {
							SAF = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
						}
						add_to_faction = SAF
					}
					if = {
						limit = {
							AST = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
						}
						add_to_faction = AST
					}
					if = {
						limit = {
							NZL = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
						}
						add_to_faction = NZL
					}
				}
			}
			else_if = {
				limit = {
					SAF = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				SAF = {
					create_faction = "ENG_commonwealth_of_nations"
					if = {
						limit = {
							SAF = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
						}
						add_to_faction = SAF
					}
					if = {
						limit = {
							NZL = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
						}
						add_to_faction = NZL
					}
				}
			}
			else_if = {
				limit = {
					AST = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				AST = {
					create_faction = "ENG_commonwealth_of_nations"
					if = {
						limit = {
							NZL = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
						}
						add_to_faction = NZL
					}
				}
			}
		}
		custom_effect_tooltip = mtg_britain.2_tt
		hidden_effect = {
			if = {
				limit = {
					CAN = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				CAN = {
					country_event = { id = mtg_britain.16 }
					add_ai_strategy = {
						type = alliance
						id = ENG
						value = -200
					}
				}
			}
			if = {
				limit = {
					SAF = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				SAF = {
					country_event = { id = mtg_britain.16 }
					add_ai_strategy = {
						type = alliance
						id = ENG
						value = -200
					}
				}
			}
			if = {
				limit = {
					RAJ = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				RAJ = {
					country_event = { id = mtg_britain.16 }
					add_ai_strategy = {
						type = alliance
						id = ENG
						value = -200
					}
				}
			}
			if = {
				limit = {
					AST = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				AST = {
					country_event = { id = mtg_britain.16 }
					add_ai_strategy = {
						type = alliance
						id = ENG
						value = -200
					}
				}
			}
			if = {
				limit = {
					NZL = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				NZL = {
					country_event = { id = mtg_britain.16 }
					add_ai_strategy = {
						type = alliance
						id = ENG
						value = -200
					}
				}
			}
		}
	}
}

# Abdication Crisis Edward VIII - Marriage happens
country_event = {
	id = mtg_britain.5
	title = mtg_britain.5.t
	desc = mtg_britain.5.d
	picture = GFX_report_event_royal_parade

	is_triggered_only = yes

	trigger = { NOT = { has_country_flag = ENG_abdication_crisis_changed_mind } }

	immediate = {
		hidden_effect = {
			set_country_flag = edward_viii_married_wallis_simpson
		}
	}
	
	# Ok
	option = {
		name = mtg_britain.5.a
		add_popularity = { ideology = neutrality popularity = 0.05 }
		add_stability = 0.05
		add_political_power = 50
	}
}

# Abdication Crisis Edward VIII - random event generator
country_event = {
	id = mtg_britain.6
	
	is_triggered_only = yes

	hidden = yes

	immediate = {
		random_list = {
			20 = { # Newspapers in favor of marriage
				modifier = {
					factor = 1.5
					has_country_flag = ENG_abdication_crisis_morganatic_marriage
				}
				modifier = {
					factor = 0
					has_country_flag = ENG_newspapers_in_favor
				}
				modifier = {
					factor = 0
					has_country_flag = ENG_newspapers_against
				}
				country_event = { id = mtg_britain.7 }
			}
			20 = { # Newspapers against marriage
				country_event = { id = mtg_britain.8 } 
			}
			20 = { # Prime Minister keeps King on tight leash
				modifier = {
					factor = 0
					has_country_flag = ENG_abdication_crisis_government_fell
				}
				modifier = {
					factor = 0
					has_country_flag = ENG_newspapers_in_favor
				}
				modifier = {
					factor = 0
					has_country_flag = ENG_newspapers_against
				}
				modifier = {
					factor = 0
					has_country_flag = ENG_abdication_crisis_held_radio_speech
				}
				country_event = { id = mtg_britain.9 } 
			}
			20 = { # Parliament Opposition
				modifier = {
					factor = 0.8
					has_idea = ENG_support_for_the_king_idea 
				}
				modifier = {
					factor = 0
					has_country_flag = ENG_abdication_crisis_government_fell
				}
				modifier = {
					factor = 0
					has_country_flag = ENG_parliament_opposition
				}
				country_event = { id = mtg_britain.10 } 
			}
			20 = { # Upper classes oppose marriage
				modifier = {
					factor = 0
					has_country_flag = ENG_upper_classes_oppose_marriage
				}
				country_event = { id = mtg_britain.11 } 
			}
			20 = { # Working class people support marriage
				modifier = {
					factor = 1.5
					has_country_flag = ENG_abdication_crisis_morganatic_marriage
				}
				modifier = {
					factor = 0
					has_country_flag = ENG_upper_classes_support_marriage
				}
				country_event = { id = mtg_britain.12 } 
			}
			200 = { # King gets permission to make radio broadcast for 'his side of the story'
				modifier = {
					factor = 0
					NOT = { has_idea = ENG_support_for_the_king_idea } 
				}
				modifier = {
					factor = 0
					has_country_flag = ENG_abdication_crisis_tight_leash 
				}
				modifier = {
					factor = 0
					has_country_flag = ENG_abdication_crisis_held_radio_speech
				}
				country_event = { id = mtg_britain.13 }
			}
		}
	}
}

# Abdication Crisis Edward VIII - Newspapers in favor of marriage
country_event = {
	id = mtg_britain.7
	title = mtg_britain.7.t
	desc = mtg_britain.7.d
	picture = GFX_report_event_journalists_speech

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
		NOT = { has_country_flag = edward_viii_married_wallis_simpson }
	}
	
	# Ok
	option = {
		name = mtg_britain.7.a
		add_popularity = { ideology = neutrality popularity = 0.02 }
		add_stability = 0.05
		hidden_effect = { country_event = { id = mtg_britain.6 days = 20 random = 10 } }
		clr_country_flag = ENG_newspapers_against
		clr_country_flag = ENG_prime_minister_tight_leash
		clr_country_flag = ENG_parliament_opposition
		clr_country_flag = ENG_upper_classes_oppose_marriage
		clr_country_flag = ENG_working_classes_support_marriage
		set_country_flag = ENG_newspapers_in_favor
	}

	# On second thought, maybe we shouldn't
	option = {
		name = mtg_britain.2.b
		trigger = {
			NOT = { has_country_flag = ENG_abdication_crisis_government_fell }
		}
		ai_chance = {
			factor = 0
		}
		country_event = { id = mtg_britain.14 days = 40 random = 10 }
		set_country_flag = ENG_abdication_crisis_changed_mind
	}
}

# Abdication Crisis Edward VIII - Newspapers against marriage
country_event = {
	id = mtg_britain.8
	title = mtg_britain.8.t
	desc = mtg_britain.8.d
	picture = GFX_report_event_journalists_speech

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
		NOT = { has_country_flag = edward_viii_married_wallis_simpson }
	}
	
	# Ok
	option = {
		name = mtg_britain.8.a
		add_popularity = { ideology = neutrality popularity = -0.02 }
		add_stability = -0.05
		hidden_effect = { country_event = { id = mtg_britain.6 days = 20 random = 10 } }
		clr_country_flag = ENG_newspapers_in_favor
		clr_country_flag = ENG_prime_minister_tight_leash
		clr_country_flag = ENG_parliament_opposition
		clr_country_flag = ENG_upper_classes_oppose_marriage
		clr_country_flag = ENG_working_classes_support_marriage
		set_country_flag = ENG_newspapers_against
	}

	# On second thought, maybe we shouldn't
	option = {
		name = mtg_britain.2.b
		trigger = {
			NOT = { has_country_flag = ENG_abdication_crisis_government_fell }
		}
		ai_chance = {
			factor = 0
		}
		country_event = { id = mtg_britain.14 days = 40 random = 10 }
		set_country_flag = ENG_abdication_crisis_changed_mind
	}
}

# Abdication Crisis Edward VIII - Prime Minister keeps King on tight leash
country_event = {
	id = mtg_britain.9
	title = mtg_britain.9.t
	desc = mtg_britain.9.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
		NOT = { has_country_flag = ENG_abdication_crisis_government_fell }
		NOT = { has_country_flag = edward_viii_married_wallis_simpson }
	}
	
	# Ok
	option = {
		name = mtg_britain.9.a
		add_political_power = -50
		set_country_flag = { flag = ENG_abdication_crisis_tight_leash value = 1 days = 31 }
		hidden_effect = { country_event = { id = mtg_britain.6 days = 20 random = 10 } }
		clr_country_flag = ENG_newspapers_in_favor
		clr_country_flag = ENG_newspapers_against
		clr_country_flag = ENG_parliament_opposition
		clr_country_flag = ENG_upper_classes_oppose_marriage
		clr_country_flag = ENG_working_classes_support_marriage
		set_country_flag = ENG_prime_minister_tight_leash
	}

	# On second thought, maybe we shouldn't
	option = {
		name = mtg_britain.2.b
		trigger = {
			NOT = { has_country_flag = ENG_abdication_crisis_government_fell }
		}
		ai_chance = {
			factor = 0
		}
		country_event = { id = mtg_britain.14 days = 40 random = 10 }
		set_country_flag = ENG_abdication_crisis_changed_mind
	}
}

# Abdication Crisis Edward VIII - Parliament opposition
country_event = {
	id = mtg_britain.10
	title = mtg_britain.10.t
	desc = mtg_britain.10.d
	picture = GFX_report_event_generic_parliament

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
		NOT = { has_country_flag = edward_viii_married_wallis_simpson }
	}	
	# Ok
	option = {
		name = mtg_britain.10.a
		add_political_power = -75
		hidden_effect = { country_event = { id = mtg_britain.6 days = 20 random = 10 } }
		clr_country_flag = ENG_newspapers_in_favor
		clr_country_flag = ENG_newspapers_against
		clr_country_flag = ENG_prime_minister_tight_leash
		clr_country_flag = ENG_upper_classes_oppose_marriage
		clr_country_flag = ENG_working_classes_support_marriage
		set_country_flag = ENG_parliament_opposition
	}

	# On second thought, maybe we shouldn't
	option = {
		name = mtg_britain.2.b
		trigger = {
			NOT = { has_country_flag = ENG_abdication_crisis_government_fell }
		}
		ai_chance = {
			factor = 0
		}
		country_event = { id = mtg_britain.14 days = 40 random = 10 }
		set_country_flag = ENG_abdication_crisis_changed_mind
	}
}

# Abdication Crisis Edward VIII - Upper classes oppose marriage
country_event = {
	id = mtg_britain.11
	title = mtg_britain.11.t
	desc = mtg_britain.11.d
	picture = GFX_report_event_generic_rally_3

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
		NOT = { has_country_flag = edward_viii_married_wallis_simpson }
	}	
	# Ok
	option = {
		name = mtg_britain.11.a
		add_popularity = { ideology = neutrality popularity = -0.02 }
		add_stability = -0.05
		add_political_power = -25
		hidden_effect = { country_event = { id = mtg_britain.6 days = 20 random = 10 } }
		clr_country_flag = ENG_newspapers_in_favor
		clr_country_flag = ENG_newspapers_against
		clr_country_flag = ENG_prime_minister_tight_leash
		clr_country_flag = ENG_parliament_opposition
		clr_country_flag = ENG_working_classes_support_marriage
		set_country_flag = ENG_upper_classes_oppose_marriage
	}

	# On second thought, maybe we shouldn't
	option = {
		name = mtg_britain.2.b
		trigger = {
			NOT = { has_country_flag = ENG_abdication_crisis_government_fell }
		}
		ai_chance = {
			factor = 0
		}
		country_event = { id = mtg_britain.14 days = 40 random = 10 }
		set_country_flag = ENG_abdication_crisis_changed_mind
	}
}

# Abdication Crisis Edward VIII - Working classes support marriage
country_event = {
	id = mtg_britain.12
	title = mtg_britain.12.t
	desc = mtg_britain.12.d
	picture = GFX_report_event_generic_rally

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
		NOT = { has_country_flag = edward_viii_married_wallis_simpson }
	}	
	# Ok
	option = {
		name = mtg_britain.12.a
		add_popularity = { ideology = neutrality popularity = 0.02 }
		add_stability = 0.05
		hidden_effect = { country_event = { id = mtg_britain.6 days = 20 random = 10 } }
		clr_country_flag = ENG_newspapers_in_favor
		clr_country_flag = ENG_newspapers_against
		clr_country_flag = ENG_prime_minister_tight_leash
		clr_country_flag = ENG_parliament_opposition
		clr_country_flag = ENG_upper_classes_oppose_marriage
		set_country_flag = ENG_working_classes_support_marriage
	}

	# On second thought, maybe we shouldn't
	option = {
		name = mtg_britain.2.b
		trigger = {
			NOT = { has_country_flag = ENG_abdication_crisis_government_fell }
		}
		ai_chance = {
			factor = 0
		}
		country_event = { id = mtg_britain.14 days = 40 random = 10 }
		set_country_flag = ENG_abdication_crisis_changed_mind
	}
}

# Abdication Crisis Edward VIII - Radio speech
country_event = {
	id = mtg_britain.13
	title = mtg_britain.13.t
	desc = mtg_britain.13.d
	picture = GFX_report_event_journalists_speech

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
		NOT = { has_country_flag = edward_viii_married_wallis_simpson }
	}
	
	# Ok
	option = {
		name = mtg_britain.13.a
		add_popularity = { ideology = neutrality popularity = 0.05 }
		add_stability = 0.1
		add_political_power = 50
		set_country_flag = ENG_abdication_crisis_held_radio_speech
		hidden_effect = { country_event = { id = mtg_britain.6 days = 20 random = 10 } }
	}

	# On second thought, maybe we shouldn't
	option = {
		name = mtg_britain.2.b
		trigger = {
			NOT = { has_country_flag = ENG_abdication_crisis_government_fell }
		}
		ai_chance = {
			factor = 0
		}
		country_event = { id = mtg_britain.14 days = 40 random = 10 }
		set_country_flag = ENG_abdication_crisis_changed_mind
	}
}

# King abdicates - Man the Guns version
country_event = {
	id = mtg_britain.14
	title = britain.17.t
	desc = britain.17.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			remove_ideas = ENG_king_edward
			add_ideas = ENG_george_vi		
		}
	}

	option = {
		name = britain.17.a
		effect_tooltip = {
			remove_ideas = ENG_king_edward
			add_ideas = ENG_george_vi		
		}
	}
}

# Abdication Crisis Edward VIII - Asking Dominions what they want to do if the King goes through with it
country_event = {
	id = mtg_britain.15
	title = mtg_britain.15.t
	desc = mtg_britain.15.d
	picture = GFX_report_event_generic_parliament

	is_triggered_only = yes
	
	# If he goes through with it, we're out
	option = {
		name = mtg_britain.15.a
		custom_effect_tooltip = mtg_britain.15_tt
		set_country_flag = ENG_abdication_crisis_dominion_will_leave
	}

	# We will support him whatever he decides
	option = {
		name = mtg_britain.15.b
		ai_chance = {
			factor = 0
		}
		custom_effect_tooltip = mtg_britain.15_tt_2
		set_country_flag = ENG_abdication_crisis_dominion_will_stay
	}
}

# Abdication Crisis Edward VIII - Notification event for the Dominions that they are leaving the Allies
country_event = {
	id = mtg_britain.16
	title = mtg_britain.16.t
	desc = mtg_britain.16.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.16.a
		if = {
			limit = {
				tag = CAN
			}
			FROM = { set_autonomy = { target = CAN autonomy_state = autonomy_free } }
			drop_cosmetic_tag = yes
			create_faction = "ENG_commonwealth_of_nations"
			if = {
				limit = {
					SAF = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				add_to_faction = SAF
			}
			if = {
				limit = {
					AST = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				add_to_faction = AST
			}
			if = {
				limit = {
					NZL = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
				}
				add_to_faction = NZL
			}
			hidden_effect = {
				every_other_country = {
					limit = {
						NOT = { tag = SAF }
						NOT = { tag = AST }
						NOT = { tag = NZL }
					}
					ROOT = {
						add_ai_strategy = {
							type = alliance
							id = PREV
							value = -200
						}
					}
				}
			}
		}
		if = {
			limit = {
				tag = SAF
			}
			FROM = { set_autonomy = { target = SAF autonomy_state = autonomy_free } }
			if = {
				limit = {
					CAN = { NOT = { has_country_flag = ENG_abdication_crisis_dominion_will_leave } }
					AST = { NOT = { has_country_flag = ENG_abdication_crisis_dominion_will_leave } }
				}
				create_faction = "ENG_commonwealth_of_nations"
				if = {
					limit = {
						NZL = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
					}
					add_to_faction = NZL
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							NOT = { tag = NZL }
						}
						ROOT = {
							add_ai_strategy = {
								type = alliance
								id = PREV
								value = -200
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				tag = RAJ
			}
			FROM = { set_autonomy = { target = RAJ autonomy_state = autonomy_free } }
			ENG = { remove_from_faction = RAJ }
			RAJ = {
				drop_cosmetic_tag = yes
				retire_country_leader = yes
				remove_from_tech_sharing_group = commonwealth_research
			}
		}
		if = {
			limit = {
				tag = AST
			}
			FROM = { set_autonomy = { target = AST autonomy_state = autonomy_free } }
			if = {
				limit = {
					CAN = { NOT = { has_country_flag = ENG_abdication_crisis_dominion_will_leave } }
				}
				create_faction = "ENG_commonwealth_of_nations"
				if = {
					limit = {
						SAF = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
					}
					add_to_faction = SAF
				}
				if = {
					limit = {
						NZL = { has_country_flag = ENG_abdication_crisis_dominion_will_leave }
					}
					add_to_faction = NZL
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							NOT = { tag = SAF }
							NOT = { tag = NZL }
						}
						ROOT = {
							add_ai_strategy = {
								type = alliance
								id = PREV
								value = -200
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				tag = NZL
			}
			FROM = { set_autonomy = { target = NZL autonomy_state = autonomy_free } }
		}
	}
}

### END ABDICATION CRISIS ###

# Guide the Colonies notification event
country_event = {
	id = mtg_britain.17
	title = mtg_britain.17.t
	desc = mtg_britain.17.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.17.a
		if = {
			limit = {
				tag = CAN
			}
			effect_tooltip = {
				add_stability = 0.05
				add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
				add_ideas = ENG_guided_by_britain_1
			}
		}
		if = {
			limit = {
				tag = AST
			}
			effect_tooltip = {
				add_stability = 0.05
				add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
				add_ideas = ENG_guided_by_britain_1
			}
		}
		if = {
			limit = {
				tag = NZL
			}
			effect_tooltip = {
				add_stability = 0.05
				add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
				add_ideas = ENG_guided_by_britain_1
			}
		}
		if = {
			limit = {
				tag = SAF
			}
			effect_tooltip = {
				add_stability = 0.05
				add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
				add_ideas = ENG_guided_by_britain_1
			}
		}
	}
}

# Towards Dominion Independence notification event
country_event = {
	id = mtg_britain.18
	title = mtg_britain.18.t
	desc = mtg_britain.18.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.18.a
		if = {
			limit = {
				tag = CAN
			}
			effect_tooltip = {
				swap_ideas = {
					remove_idea = ENG_guided_by_britain_1
					add_idea = ENG_guided_by_britain_2
				}
			}
		}
		if = {
			limit = {
				tag = AST
			}
			effect_tooltip = {
				swap_ideas = {
					remove_idea = ENG_guided_by_britain_1
					add_idea = ENG_guided_by_britain_2
				}
			}
		}
		if = {
			limit = {
				tag = NZL
			}
			effect_tooltip = {
				swap_ideas = {
					remove_idea = ENG_guided_by_britain_1
					add_idea = ENG_guided_by_britain_2
				}
			}
		}
		if = {
			limit = {
				tag = SAF
			}
			effect_tooltip = {
				swap_ideas = {
					remove_idea = ENG_guided_by_britain_1
					add_idea = ENG_guided_by_britain_2
				}
			}
		}
	}
}

# Foundations for an Indian State notification event
country_event = {
	id = mtg_britain.19
	title = mtg_britain.19.t
	desc = mtg_britain.19.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.17.a
		effect_tooltip = {
			add_stability = 0.05
			add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
			add_ideas = ENG_guided_by_britain_raj_1
		}
	}
}

# Three-Nation Solution notification event
country_event = {
	id = mtg_britain.20
	title = mtg_britain.20.t
	desc = mtg_britain.20.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.20.a
		add_opinion_modifier = { target = ENG modifier = ENG_three_nation_solution }
		release = BAN
		ENG = { set_autonomy = { target = BAN autonomy_state = autonomy_colony } }
		BAN = {
			add_ideas = ENG_guided_by_britain_raj_1
		}
		release = PAK
		ENG = { set_autonomy = { target = PAK autonomy_state = autonomy_colony } }
		PAK = {
			add_ideas = ENG_guided_by_britain_raj_1
		}
	}
}

# Towards Indian Independence notification event
country_event = {
	id = mtg_britain.21
	title = mtg_britain.21.t
	desc = mtg_britain.18.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.18.a
		effect_tooltip = {
			swap_ideas = {
				remove_idea = ENG_guided_by_britain_RAJ_1
				add_idea = ENG_guided_by_britain_RAJ_2
			}
			if = {
				limit = {
					tag = RAJ
					NOT = { is_subject = no }
					NOT = { has_autonomy_state = autonomy_dominion }
					has_dlc = "Together for Victory"
				}
				set_autonomy = { target = RAJ autonomy_state = autonomy_dominion }
			}
			if = {
				limit = {
					tag = PAK
					NOT = { is_subject = no }
					NOT = { has_autonomy_state = autonomy_dominion }
					has_dlc = "Together for Victory"
				}
				set_autonomy = { target = RAJ autonomy_state = autonomy_dominion }
			}
			if = {
				limit = {
					tag = BAN
					NOT = { is_subject = no }
					NOT = { has_autonomy_state = autonomy_dominion }
					has_dlc = "Together for Victory"
				}
				set_autonomy = { target = RAJ autonomy_state = autonomy_dominion }
			}
			retire_country_leader = yes
		}
	}
}

# Motion of No Confidence event
country_event = {
	id = mtg_britain.22
	title = mtg_britain.22.t
	desc = mtg_britain.22.d
	picture = GFX_report_event_generic_parliament

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.22.a
		if = {
			limit = {
				has_country_leader = {
					name = "Winston Churchill"
					ruling_only = yes
				}
			}
			add_country_leader_trait = british_bulldog
		}
		else = {
			retire_country_leader = yes
			create_country_leader = {
				name = "Winston Churchill"
				desc = "POLITICS_WINSTON_CHURCHILL_DESC"
				picture = "Portrait_Britain_Winston_Churchill.dds"
				expire = "1965.1.1"
				ideology = social_conservatism
				traits = {
					british_bulldog
					conservative
					great_leader
				}
			}
		}
	}
}

# Gibraltar for Spanish Support event for Spain
country_event = {
	id = mtg_britain.40
	title = mtg_britain.40.t
	desc = mtg_britain.40.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	# Accept
	option = {
		name = mtg_britain.40.a
		transfer_state = 118
		FROM = {
			add_to_faction = ROOT
			country_event = { id = mtg_britain.36 hours = 6 }
			hidden_effect = {
				add_ai_strategy = {
					type = alliance
					id = ROOT
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 200
				}
				add_ai_strategy = {
					type = antagonize
					id = ROOT
					value = -200
				}
			}
		}
		hidden_effect = {
			add_ai_strategy = {
				type = alliance
				id = FROM
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = FROM
				value = 200
			}
			add_ai_strategy = {
				type = antagonize
				id = FROM
				value = -200
			}
		}
	}

	# Reject
	option = {
		name = mtg_britain.40.b
		ai_chance = {
			factor = 0
		}
		FROM = { country_event = { id = mtg_britain.37 hours = 6 } }
	}
}

# Gibraltar for Spanish Support acceptance event for Britain
country_event = {
	id = mtg_britain.41
	title = mtg_britain.41.t
	desc = mtg_britain.41.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	# Ok
	option = {
		name = excellent
		effect_tooltip = {
			FROM = { transfer_state = 118 }
			add_to_faction = FROM
		}
		hidden_effect = { news_event = { id = mtg_news.25 days = 1 } }
	}
}

# Gibraltar for Spanish Support rejection event for Britain
country_event = {
	id = mtg_britain.42
	title = mtg_britain.42.t
	desc = mtg_britain.42.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	# Ok
	option = {
		name = unfortunate
	}
}

# Event for RAJ notifying of impending civil war
country_event = {
	id = mtg_britain.72
	title = mtg_britain.72.t
	desc = mtg_britain.72.d
	picture = GFX_report_event_generic_riot
	
	is_triggered_only = yes

	trigger = {
		tag = RAJ
		NOT = { country_exists = PAK }
		NOT = { has_country_flag = RAJ_civil_war }
		NOT = {
			has_dlc = "Together for Victory"
			has_completed_focus = RAJ_two_nation_theory
		}
		is_subject = no
		has_dlc = "Man the Guns"
	}

	#mean_time_to_happen = { days = 60 }
	
	# Ok
	option = {
		name = mtg_britain.72.a
		set_country_flag = RAJ_civil_war
		hidden_effect = {
			country_event = { id = mtg_britain.73 days = 90 random = 180 }
		}
	}
}

# Event for RAJ starting civil war
country_event = {
	id = mtg_britain.73
	title = mtg_britain.73.t
	desc = mtg_britain.73.d
	picture = GFX_report_event_ger_civil_war

	is_triggered_only = yes
	
	# We won't back down!
	option = {
		name = mtg_britain.73.a
		release = PAK
		PAK = {
			declare_war_on = {
				target = ROOT
				type = annex_everything
			}
		}
		hidden_effect = {
			PAK = {
				add_equipment_to_stockpile = {
				    type = infantry_equipment
				    amount = 15000
				    producer = RAJ
				}
				division_template = {
					name = "Pakistani Liberation Army"
					priority = 1
					division_names_group = RAJ_INF_01
					is_locked = yes
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
					}
				}
				# Sind
				443 = {
					create_unit = {
						division = "name = \"1. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"2. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"3. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
				}
				# Punjab
				440 = {
					create_unit = {
						division = "name = \"4. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"5. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"6. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
				}
				# Northern Kashmir
				787 = {
					create_unit = {
						division = "name = \"7. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"8. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"9. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
				}
				# Peshawar
				442 = {
					create_unit = {
						division = "name = \"10. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"11. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
				}
				# Baluchistan
				444 = {
					create_unit = {
						division = "name = \"12. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"13. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
				}
				# Quetta
				445 = {
					create_unit = {
						division = "name = \"14. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"15. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"16. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"17. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"18. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"19. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
				}
				# East Bengal (Bangladesh)
				430 = {
					create_unit = {
						division = "name = \"20. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"21. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"22. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"23. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"24. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"25. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"26. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"27. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"28. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"29. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"30. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"31. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"32. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"33. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
					create_unit = {
						division = "name = \"34. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
						owner = PAK
					}
				}
			}
			hidden_effect = {
				division_template = {
					name = "Hindu Militia"
					priority = 1
					division_names_group = RAJ_INF_01
					is_locked = yes
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
					}
				}
				# Delhi
				439 = {
					create_unit = {
						division = "name = \"1. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
					create_unit = {
						division = "name = \"2. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
					create_unit = {
						division = "name = \"3. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
					create_unit = {
						division = "name = \"4. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
					create_unit = {
						division = "name = \"5. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
					create_unit = {
						division = "name = \"6. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
				}
				# Rajahsthan
				433 = {
					create_unit = {
						division = "name = \"7. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
					create_unit = {
						division = "name = \"8. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
					create_unit = {
						division = "name = \"9. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
					create_unit = {
						division = "name = \"10. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
					create_unit = {
						division = "name = \"11. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
					create_unit = {
						division = "name = \"12. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
				}
				# Gujarat
				428 = {
					create_unit = {
						division = "name = \"13. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
					create_unit = {
						division = "name = \"14. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
					create_unit = {
						division = "name = \"15. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
				}
				# Assam
				432 = {
					create_unit = {
						division = "name = \"16. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
					create_unit = {
						division = "name = \"17. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
					create_unit = {
						division = "name = \"18. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
					create_unit = {
						division = "name = \"19. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
				}
				# West bengal
				431 = {
					create_unit = {
						division = "name = \"20. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
					create_unit = {
						division = "name = \"21. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
					create_unit = {
						division = "name = \"22. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
					create_unit = {
						division = "name = \"23. Hindu Militia\" division_template = \"Hindu Militia\" start_experience_factor = 0.5" 
						owner = RAJ
					}
				}
			}
			PAK = {
				if = {
					limit = {
						strength_ratio = {
						    tag = RAJ
						    ratio < 0.9
						}
					}
					# East Bengal (Bangladesh)
					430 = {
						create_unit = {
							division = "name = \"35. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
						create_unit = {
							division = "name = \"36. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
					}
					# Punjab
					440 = {
						create_unit = {
							division = "name = \"37. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
						create_unit = {
							division = "name = \"38. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
					}
				}
				if = {
					limit = {
						strength_ratio = {
						    tag = RAJ
						    ratio < 0.9
						}
					}
					# East Bengal (Bangladesh)
					430 = {
						create_unit = {
							division = "name = \"39. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
						create_unit = {
							division = "name = \"40. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
					}
					# Punjab
					440 = {
						create_unit = {
							division = "name = \"41. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
						create_unit = {
							division = "name = \"42. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
					}
				}
				if = {
					limit = {
						strength_ratio = {
						    tag = RAJ
						    ratio < 0.9
						}
					}
					# East Bengal (Bangladesh)
					430 = {
						create_unit = {
							division = "name = \"43. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
						create_unit = {
							division = "name = \"44. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
					}
					# Punjab
					440 = {
						create_unit = {
							division = "name = \"45. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
						create_unit = {
							division = "name = \"46. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
					}
				}
				if = {
					limit = {
						strength_ratio = {
						    tag = RAJ
						    ratio < 0.9
						}
					}
					# East Bengal (Bangladesh)
					430 = {
						create_unit = {
							division = "name = \"47. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
						create_unit = {
							division = "name = \"48. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
					}
					# Punjab
					440 = {
						create_unit = {
							division = "name = \"49. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
						create_unit = {
							division = "name = \"50. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
					}
				}
				if = {
					limit = {
						strength_ratio = {
						    tag = RAJ
						    ratio < 0.9
						}
					}
					# East Bengal (Bangladesh)
					430 = {
						create_unit = {
							division = "name = \"51. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
					}
					# Punjab
					440 = {
						create_unit = {
							division = "name = \"52. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
						create_unit = {
							division = "name = \"53. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
					}
				}
				if = {
					limit = {
						strength_ratio = {
						    tag = RAJ
						    ratio < 0.9
						}
					}
					# East Bengal (Bangladesh)
					430 = {
						create_unit = {
							division = "name = \"54. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
					}
					# Punjab
					440 = {
						create_unit = {
							division = "name = \"55. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
						create_unit = {
							division = "name = \"56. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
					}
				}
				if = {
					limit = {
						strength_ratio = {
						    tag = RAJ
						    ratio < 0.9
						}
					}
					# East Bengal (Bangladesh)
					430 = {
						create_unit = {
							division = "name = \"57. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
					}
					# Punjab
					440 = {
						create_unit = {
							division = "name = \"58. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
						create_unit = {
							division = "name = \"59. Pakistani Liberation Army\" division_template = \"Pakistani Liberation Army\" start_experience_factor = 0.5" 
							owner = PAK
						}
					}
				}
			}
			set_country_flag = RAJ_pakistani_civil_war_flag
			hidden_effect = { country_event = { id = mtg_britain.109 days = 15 random = 75 } }
		}
	}
	# Give them their independence
	option = {
		name = mtg_britain.73.b
		ai_chance = {
			factor = 0
		}
		release = PAK
		hidden_effect = { country_event = { id = mtg_britain.109 days = 5 random = 5 } }
	}
}

# Event for RAJ ending civil war if Pakistan hasn't been dealt with.
country_event = {
	id = mtg_britain.74
	title = mtg_britain.74.t
	desc = mtg_britain.74.d
	picture = GFX_report_event_generic_sign_treaty2

	trigger = {
		has_war_with = PAK
	}

	trigger = {
		tag = RAJ
		has_war_with = PAK
		has_country_flag = RAJ_pakistani_civil_war_flag
	}
	
	fire_only_once = yes

	mean_time_to_happen = {
		days = 270
		modifier = {
			factor = 0.8
			surrender_progress > 0.2
		}
		modifier = {
			factor = 0.5
			surrender_progress > 0.5
		}
		modifier = {
			factor = 0.2
			surrender_progress > 0.8
		}
		modifier = {
			factor = 0.1
			surrender_progress > 0.9
		}
	}
	
	# Let's make peace
	option = {
		name = mtg_britain.74.a
		every_country = {
			limit = {
				is_in_faction_with = RAJ
				has_war_with = PAK
			}
			white_peace = PAK
		}
		white_peace = PAK
		PAK = { country_event = { id = mtg_britain.75 } }
		effect_tooltip = {
			delete_unit_template_and_units = {
   				division_template = "Hindu Militia"
			}
		}
		clr_country_flag = RAJ_pakistani_civil_war_flag
	}

	# All or nothing - no peace!
	option = {
		name = mtg_britain.74.b
		ai_chance = {
			factor = 0
		}
		add_war_support = -0.1
	}
}

# Event for PAK notifying of white peace
country_event = {
	id = mtg_britain.75
	title = mtg_britain.75.t
	desc = mtg_britain.75.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.75.a
		effect_tooltip = {
			every_country = {
				limit = {
					is_in_faction_with = RAJ
					has_war_with = PAK
				}
				white_peace = PAK
			}
			RAJ = { white_peace = PAK }
		}
		delete_unit_template_and_units = {
   			division_template = "Pakistani Liberation Army"
		}
		hidden_effect = {
			FROM = {
				delete_unit_template_and_units = {
   					division_template = "Hindu Militia"
				}
			}
		}
	}
}

# Event for PAK starting civil war
country_event = {
	id = mtg_britain.76
	title = mtg_britain.76.t
	desc = mtg_britain.76.d
	picture = GFX_report_event_ger_civil_war

	trigger = {
		tag = PAK
		NOT = { country_exists = BAN }
		NOT = { has_country_flag = PAK_civil_war }
		is_subject = no
		has_war = no
		has_dlc = "Man the Guns"
	}
	
	fire_only_once = yes

	mean_time_to_happen = { days = 180 }
	
	# We won't back down!
	option = {
		name = mtg_britain.76.a
		set_country_flag = PAK_civil_war
		release = BAN
		hidden_effect = {
			BAN = {
				division_template = {
					name = "Bangladeshi Liberation Army"
					priority = 1
					division_names_group = RAJ_INF_01
					is_locked = yes
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
					}
				}
				# East Bengal (Bangladesh)
				430 = {
					create_unit = {
						division = "name = \"1. Bangladeshi Liberation Army\" division_template = \"Bangladeshi Liberation Army\" start_experience_factor = 0.5" 
						owner = BAN
					}
					create_unit = {
						division = "name = \"2. Bangladeshi Liberation Army\" division_template = \"Bangladeshi Liberation Army\" start_experience_factor = 0.5" 
						owner = BAN
					}
					create_unit = {
						division = "name = \"3. Bangladeshi Liberation Army\" division_template = \"Bangladeshi Liberation Army\" start_experience_factor = 0.5" 
						owner = BAN
					}
					create_unit = {
						division = "name = \"4. Bangladeshi Liberation Army\" division_template = \"Bangladeshi Liberation Army\" start_experience_factor = 0.5" 
						owner = BAN
					}
					create_unit = {
						division = "name = \"5. Bangladeshi Liberation Army\" division_template = \"Bangladeshi Liberation Army\" start_experience_factor = 0.5" 
						owner = BAN
					}
					create_unit = {
						division = "name = \"6. Bangladeshi Liberation Army\" division_template = \"Bangladeshi Liberation Army\" start_experience_factor = 0.5" 
						owner = BAN
					}
					create_unit = {
						division = "name = \"7. Bangladeshi Liberation Army\" division_template = \"Bangladeshi Liberation Army\" start_experience_factor = 0.5" 
						owner = BAN
					}
					create_unit = {
						division = "name = \"8. Bangladeshi Liberation Army\" division_template = \"Bangladeshi Liberation Army\" start_experience_factor = 0.5" 
						owner = BAN
					}
					create_unit = {
						division = "name = \"9. Bangladeshi Liberation Army\" division_template = \"Bangladeshi Liberation Army\" start_experience_factor = 0.5" 
						owner = BAN
					}
					create_unit = {
						division = "name = \"10. Bangladeshi Liberation Army\" division_template = \"Bangladeshi Liberation Army\" start_experience_factor = 0.5" 
						owner = BAN
					}
					create_unit = {
						division = "name = \"11. Bangladeshi Liberation Army\" division_template = \"Bangladeshi Liberation Army\" start_experience_factor = 0.5" 
						owner = BAN
					}
					create_unit = {
						division = "name = \"12. Bangladeshi Liberation Army\" division_template = \"Bangladeshi Liberation Army\" start_experience_factor = 0.5" 
						owner = BAN
					}
					create_unit = {
						division = "name = \"13. Bangladeshi Liberation Army\" division_template = \"Bangladeshi Liberation Army\" start_experience_factor = 0.5" 
						owner = BAN
					}
					create_unit = {
						division = "name = \"14. Bangladeshi Liberation Army\" division_template = \"Bangladeshi Liberation Army\" start_experience_factor = 0.5" 
						owner = BAN
					}
					create_unit = {
						division = "name = \"15. Bangladeshi Liberation Army\" division_template = \"Bangladeshi Liberation Army\" start_experience_factor = 0.5" 
						owner = BAN
					}
				}
				declare_war_on = {
					target = ROOT
					type = annex_everything
				}
			}
			hidden_effect = { country_event = { id = mtg_britain.77 days = 270 random = 95 } }
		}
	}
	# Give them their independence
	option = {
		name = mtg_britain.76.b
		ai_chance = {
			factor = 0
		}
		release = BAN
		set_country_flag = PAK_civil_war
	}
}

# Event for PAK ending civil war if Bangladesh hasn't been dealt with.
country_event = {
	id = mtg_britain.77
	title = mtg_britain.77.t
	desc = mtg_britain.77.d
	picture = GFX_report_event_generic_sign_treaty2

	trigger = {
		has_war_with = BAN
	}

	is_triggered_only = yes
	
	# Let's make peace
	option = {
		name = mtg_britain.77.a
		white_peace = BAN
		BAN = { country_event = { id = mtg_britain.78 } }
	}

	# All or nothing - no peace!
	option = {
		name = mtg_britain.77.b
		ai_chance = {
			factor = 0
		}
		add_war_support = -0.1
	}
}

# Event for BAN notifying of white peace
country_event = {
	id = mtg_britain.78
	title = mtg_britain.78.t
	desc = mtg_britain.78.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.75.a
		effect_tooltip = { BAN = { white_peace = PAK } }
		delete_unit_template_and_units = {
   			division_template = "Bangladeshi Liberation Army"
		}
	}
}

# Event for Iran/Afghanistan demanding puppet status
country_event = {
	id = mtg_britain.79
	title = mtg_britain.79.t
	desc = mtg_britain.79.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# We have no choice
	option = {
		name = mtg_britain.79.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				strength_ratio = { tag = ENG ratio > 1 }
			}
		}
		effect_tooltip = {
			ENG = {
				puppet = ROOT
			}
		}
		FROM = { country_event = { id = mtg_britain.80 hours = 6 } }
		hidden_effect = { news_event = { id = mtg_news.28 hours = 30 } }
	}

	# Never!
	option = {
		name = mtg_britain.79.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.8
				strength_ratio = { tag = ENG ratio < 0.5 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 99 }
			}
			modifier = {
				factor = 0.8
				strength_ratio = { tag = ENG ratio < 0.3 }
			}
			modifier = {
				factor = 0.8
				strength_ratio = { tag = ENG ratio < 0.2 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = ENG ratio < 0.1 }
			}
			modifier = {
				factor = 0.8
				SOV = { has_completed_focus = SOV_anti_colonialist_rebels }
			}
			modifier = {
				factor = 0
				OR = {
					SOV = {
						focus_progress = { focus = SOV_southern_thrust progress > 0 }
						has_completed_focus = SOV_southern_thrust
					}
					has_war_with = SOV
				}
			}
		}
		effect_tooltip = {
			if = {
				limit = {
					tag = PER
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = PER
				}
			}
			if = {
				limit = {
					tag = AFG
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = AFG
				}
			}
		}
		FROM = { country_event = { id = mtg_britain.81 hours = 6 } }
		hidden_effect = { news_event = { id = mtg_news.29 hours = 30 } }
	}
}

# Event for ENG that PER/AFG accepted puppet status
country_event = {
	id = mtg_britain.80
	title = mtg_britain.80.t
	desc = mtg_britain.80.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.80.a
		puppet = FROM
	}
}

# Event for ENG that PER/AFG rejected puppet status
country_event = {
	id = mtg_britain.81
	title = mtg_britain.81.t
	desc = mtg_britain.81.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.81.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = FROM
		}
	}
}

# Event for ENG and Dominions notifying of Imperial Conference
country_event = {
	id = mtg_britain.82
	title = mtg_britain.82.t
	desc = mtg_britain.82.d
	picture = GFX_report_event_imperial_conference

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.82.a
		trigger = {
			tag = ENG
		}
		activate_mission = ENG_imperial_conference_decision
		set_country_flag = { flag = ENG_imperial_conference_timer_flag value = 1 days = 60 }
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
				}
			}
			add_opinion_modifier = { target = ROOT modifier = ENG_imperial_conference_opinion }
			custom_effect_tooltip = mtg_britain.82_tt
		}
	}

	# Ok
	option = {
		name = mtg_britain.82.b
		trigger = {
			NOT = { tag = ENG }
		}
		effect_tooltip = { add_opinion_modifier = { target = FROM modifier = ENG_imperial_conference_opinion } }
	}
}

# Event for ENG beginning discussions on Imperial Defense
country_event = {
	id = mtg_britain.83
	title = mtg_britain.83.t
	desc = mtg_britain.83.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Ask them if they want to agree to commit
	option = {
		name = mtg_britain.83.a
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
				}
			}
			country_event = { id = mtg_britain.84 hours = 48 random = 24 }
		}
	}

	# Exert diplomatic pressure
	option = {
		name = mtg_britain.83.b
		add_political_power = -25
		set_country_flag = ENG_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
				}
			}
			country_event = { id = mtg_britain.84 hours = 48 random = 24 }
		}
	}
	# Exert extensive diplomatic pressure
	option = {
		name = mtg_britain.83.c
		add_political_power = -50
		set_country_flag = ENG_extensive_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
				}
			}
			country_event = { id = mtg_britain.84 hours = 48 random = 24 }
		}
	}
}

# Event for Dominions asking for vote on Imperial Defense
country_event = {
	id = mtg_britain.84
	title = mtg_britain.83.t
	desc = mtg_britain.84.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Accept
	option = {
		name = mtg_britain.84.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				FROM = { has_country_flag = ENG_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 3
				FROM = { has_country_flag = ENG_extensive_diplomatic_pressure_flag }
			}
		}
		add_political_power = -25
		add_timed_idea = { idea = ENG_imperial_conference_defense_dominion days = 365 }
		add_opinion_modifier = {
			target = FROM
			modifier = ENG_imperial_conference_approved_resolution
		}
		FROM = { country_event = { id = mtg_britain.85 } }
		ENG = {
			if = {
				limit = {
					NOT = {
						check_variable = {
							var = ENG_imperial_conference_defense_accepted
							value = 1
							compare = greater_than_or_equals
						}
					}
				}
				set_variable = {
					var = ENG_imperial_conference_defense_accepted
					value = 0
				}
			}
			add_to_variable = {
				var = ENG_imperial_conference_defense_accepted
				value = 1
			}
		}
	}

	# Reject
	option = {
		name = mtg_britain.84.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
		}
		FROM = { country_event = { id = mtg_britain.86 } }
	}
}

# Event for ENG telling FROM voted yes on Imperial Defense
country_event = {
	id = mtg_britain.85
	title = mtg_britain.85.t
	desc = mtg_britain.85.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.85.a
		effect_tooltip = {
			FROM = {
				add_political_power = -25
				add_timed_idea = { idea = ENG_imperial_conference_defense_dominion days = 365 }
				add_opinion_modifier = {
					target = ROOT
					modifier = ENG_imperial_conference_approved_resolution
				}
			}
		}
		ENG_imperial_conference_defense_level_up = yes
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_defense_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_defense_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_defense_answers
			value = 1
		}
		if = {
			limit = {
				check_variable = {
					var = ENG_imperial_conference_defense_answers
					value = 5
					compare = greater_than_or_equals
				}
			}
			clr_country_flag = ENG_imperial_conference_discussion_in_progress
			clr_country_flag = ENG_diplomatic_pressure_flag
			clr_country_flag = ENG_extensive_diplomatic_pressure_flag
		}
	}
}

# Event for ENG telling FROM voted no on Imperial Defense
country_event = {
	id = mtg_britain.86
	title = mtg_britain.86.t
	desc = mtg_britain.86.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.86.a
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_defense_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_defense_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_defense_answers
			value = 1
		}
		if = {
			limit = {
				check_variable = {
					var = ENG_imperial_conference_defense_answers
					value = 5
					compare = greater_than_or_equals
				}
			}
			clr_country_flag = ENG_imperial_conference_discussion_in_progress
			clr_country_flag = ENG_diplomatic_pressure_flag
			clr_country_flag = ENG_extensive_diplomatic_pressure_flag
		}
	}
}

# Event for ENG beginning discussions on Imperial Trade
country_event = {
	id = mtg_britain.87
	title = mtg_britain.87.t
	desc = mtg_britain.87.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Ask them if they want to agree to commit
	option = {
		name = mtg_britain.83.a
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
				}
			}
			country_event = { id = mtg_britain.88 hours = 48 random = 24 }
		}
	}

	# Exert diplomatic pressure
	option = {
		name = mtg_britain.83.b
		add_political_power = -25
		set_country_flag = ENG_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
				}
			}
			country_event = { id = mtg_britain.88 hours = 48 random = 24 }
		}
	}
	# Exert extensive diplomatic pressure
	option = {
		name = mtg_britain.83.c
		add_political_power = -50
		set_country_flag = ENG_extensive_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
				}
			}
			country_event = { id = mtg_britain.88 hours = 48 random = 24 }
		}
	}
}

# Event for Dominions asking for vote on Imperial Trade
country_event = {
	id = mtg_britain.88
	title = mtg_britain.87.t
	desc = mtg_britain.88.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Accept
	option = {
		name = mtg_britain.88.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				FROM = { has_country_flag = ENG_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 3
				FROM = { has_country_flag = ENG_extensive_diplomatic_pressure_flag }
			}
		}
		add_ideas = free_trade
		add_opinion_modifier = {
			target = FROM
			modifier = ENG_imperial_conference_approved_resolution
		}
		reverse_add_opinion_modifier = { target = FROM modifier = ENG_imperial_trade }
		FROM = { country_event = { id = mtg_britain.89 } }
	}

	# Reject
	option = {
		name = mtg_britain.88.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
		}
		FROM = { country_event = { id = mtg_britain.90 } }
	}
}

# Event for ENG telling FROM voted yes on Imperial Trade
country_event = {
	id = mtg_britain.89
	title = mtg_britain.89.t
	desc = mtg_britain.89.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.89.a
		effect_tooltip = {
			FROM = {
				add_ideas = free_trade
				add_opinion_modifier = {
					target = ROOT
					modifier = ENG_imperial_conference_approved_resolution
				}
			}
			add_opinion_modifier = { target = FROM modifier = ENG_imperial_trade }
		}
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_trade_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_trade_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_trade_answers
			value = 1
		}
		if = {
			limit = {
				check_variable = {
					var = ENG_imperial_conference_trade_answers
					value = 5
					compare = greater_than_or_equals
				}
			}
			clr_country_flag = ENG_imperial_conference_discussion_in_progress
			clr_country_flag = ENG_diplomatic_pressure_flag
			clr_country_flag = ENG_extensive_diplomatic_pressure_flag
		}
	}
}

# Event for ENG telling FROM voted no on Imperial Trade
country_event = {
	id = mtg_britain.90
	title = mtg_britain.90.t
	desc = mtg_britain.90.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.90.a
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_trade_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_trade_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_trade_answers
			value = 1
		}
		if = {
			limit = {
				check_variable = {
					var = ENG_imperial_conference_trade_answers
					value = 5
					compare = greater_than_or_equals
				}
			}
			clr_country_flag = ENG_imperial_conference_discussion_in_progress
			clr_country_flag = ENG_diplomatic_pressure_flag
			clr_country_flag = ENG_extensive_diplomatic_pressure_flag
		}
	}
}

# Event for ENG beginning discussions on Imperial Economy
country_event = {
	id = mtg_britain.91
	title = mtg_britain.91.t
	desc = mtg_britain.91.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Ask them if they want to agree to commit
	option = {
		name = mtg_britain.83.a
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
				}
			}
			country_event = { id = mtg_britain.92 hours = 48 random = 24 }
		}
	}

	# Exert diplomatic pressure
	option = {
		name = mtg_britain.83.b
		add_political_power = -25
		set_country_flag = ENG_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
				}
			}
			country_event = { id = mtg_britain.92 hours = 48 random = 24 }
		}
	}
	# Exert extensive diplomatic pressure
	option = {
		name = mtg_britain.83.c
		add_political_power = -50
		set_country_flag = ENG_extensive_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
				}
			}
			country_event = { id = mtg_britain.92 hours = 48 random = 24 }
		}
	}
}

# Event for Dominions asking for vote on Imperial Economy
country_event = {
	id = mtg_britain.92
	title = mtg_britain.91.t
	desc = mtg_britain.92.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Accept
	option = {
		name = mtg_britain.92.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				FROM = { has_country_flag = ENG_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 3
				FROM = { has_country_flag = ENG_extensive_diplomatic_pressure_flag }
			}
		}
		add_political_power = -25
		add_timed_idea = { idea = ENG_imperial_conference_economy_dominion days = 365 }
		add_opinion_modifier = {
			target = FROM
			modifier = ENG_imperial_conference_approved_resolution
		}
		FROM = { country_event = { id = mtg_britain.93 } }
		ENG = {
			if = {
				limit = {
					NOT = {
						check_variable = {
							var = ENG_imperial_conference_economy_accepted
							value = 1
							compare = greater_than_or_equals
						}
					}
				}
				set_variable = {
					var = ENG_imperial_conference_economy_accepted
					value = 0
				}
			}
			add_to_variable = {
				var = ENG_imperial_conference_economy_accepted
				value = 1
			}
		}
	}

	# Reject
	option = {
		name = mtg_britain.92.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
		}
		FROM = { country_event = { id = mtg_britain.94 } }
	}
}

# Event for ENG telling FROM voted yes on Imperial Economy
country_event = {
	id = mtg_britain.93
	title = mtg_britain.93.t
	desc = mtg_britain.93.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.93.a
		effect_tooltip = {
			FROM = {
				add_political_power = -25
				add_timed_idea = { idea = ENG_imperial_conference_economy_dominion days = 365 }
				add_opinion_modifier = {
					target = ROOT
					modifier = ENG_imperial_conference_approved_resolution
				}
			}
		}
		ENG_imperial_conference_economy_level_up = yes
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_economy_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_economy_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_economy_answers
			value = 1
		}
		if = {
			limit = {
				check_variable = {
					var = ENG_imperial_conference_economy_answers
					value = 5
					compare = greater_than_or_equals
				}
			}
			clr_country_flag = ENG_imperial_conference_discussion_in_progress
			clr_country_flag = ENG_diplomatic_pressure_flag
			clr_country_flag = ENG_extensive_diplomatic_pressure_flag
		}
	}
}

# Event for ENG telling FROM voted no on Imperial Economy
country_event = {
	id = mtg_britain.94
	title = mtg_britain.94.t
	desc = mtg_britain.94.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.94.a
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_economy_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_economy_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_economy_answers
			value = 1
		}
		if = {
			limit = {
				check_variable = {
					var = ENG_imperial_conference_economy_answers
					value = 5
					compare = greater_than_or_equals
				}
			}
			clr_country_flag = ENG_imperial_conference_discussion_in_progress
			clr_country_flag = ENG_diplomatic_pressure_flag
			clr_country_flag = ENG_extensive_diplomatic_pressure_flag
		}
	}
}

# Event for ENG beginning discussions on Appeasement
country_event = {
	id = mtg_britain.95
	title = mtg_britain.95.t
	desc = mtg_britain.95.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Ask them if they want to agree to commit
	option = {
		name = mtg_britain.83.a
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
				}
			}
			country_event = { id = mtg_britain.96 hours = 48 random = 24 }
		}
	}

	# Exert diplomatic pressure
	option = {
		name = mtg_britain.83.b
		add_political_power = -25
		set_country_flag = ENG_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
				}
			}
			country_event = { id = mtg_britain.96 hours = 48 random = 24 }
		}
	}
	# Exert extensive diplomatic pressure
	option = {
		name = mtg_britain.83.c
		add_political_power = -50
		set_country_flag = ENG_extensive_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
				}
			}
			country_event = { id = mtg_britain.96 hours = 48 random = 24 }
		}
	}
}

# Event for Dominions asking for vote on Appeasement
country_event = {
	id = mtg_britain.96
	title = mtg_britain.95.t
	desc = mtg_britain.96.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Accept
	option = {
		name = mtg_britain.96.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				FROM = { has_country_flag = ENG_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 3
				FROM = { has_country_flag = ENG_extensive_diplomatic_pressure_flag }
			}
		}
		add_political_power = -25
		add_war_support = 0.1
		add_opinion_modifier = {
			target = FROM
			modifier = ENG_imperial_conference_approved_resolution
		}
		effect_tooltip = { FROM = { add_war_support = 0.03 } }
		FROM = { country_event = { id = mtg_britain.97 } }
	}

	# Reject
	option = {
		name = mtg_britain.96.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
		}
		FROM = { country_event = { id = mtg_britain.98 } }
	}
}

# Event for ENG telling FROM voted yes on Appeasement
country_event = {
	id = mtg_britain.97
	title = mtg_britain.97.t
	desc = mtg_britain.97.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.97.a
		effect_tooltip = {
			FROM = {
				add_political_power = -25
				add_war_support = 0.1
				add_opinion_modifier = {
					target = ROOT
					modifier = ENG_imperial_conference_approved_resolution
				}
			}
		}
		add_war_support = 0.03
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_appeasement_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_appeasement_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_appeasement_answers
			value = 1
		}
		if = {
			limit = {
				check_variable = {
					var = ENG_imperial_conference_appeasement_answers
					value = 5
					compare = greater_than_or_equals
				}
			}
			clr_country_flag = ENG_imperial_conference_discussion_in_progress
			clr_country_flag = ENG_diplomatic_pressure_flag
			clr_country_flag = ENG_extensive_diplomatic_pressure_flag
		}
	}
}

# Event for ENG telling FROM voted no on Appeasement
country_event = {
	id = mtg_britain.98
	title = mtg_britain.98.t
	desc = mtg_britain.98.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.98.a
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_appeasement_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_appeasement_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_appeasement_answers
			value = 1
		}
		if = {
			limit = {
				check_variable = {
					var = ENG_imperial_conference_appeasement_answers
					value = 5
					compare = greater_than_or_equals
				}
			}
			clr_country_flag = ENG_imperial_conference_discussion_in_progress
			clr_country_flag = ENG_diplomatic_pressure_flag
			clr_country_flag = ENG_extensive_diplomatic_pressure_flag
		}
	}
}

# Event for ENG beginning discussions on Imperial Federation
country_event = {
	id = mtg_britain.99
	title = mtg_britain.99.t
	desc = mtg_britain.99.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Ask them if they want to agree to Federate
	option = {
		name = mtg_britain.83.a
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
				}
			}
			country_event = { id = mtg_britain.100 hours = 48 random = 24 }
		}
	}

	# Exert diplomatic pressure
	option = {
		name = mtg_britain.83.b
		add_political_power = -25
		set_country_flag = ENG_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
				}
			}
			country_event = { id = mtg_britain.100 hours = 48 random = 24 }
		}
	}
	# Exert extensive diplomatic pressure
	option = {
		name = mtg_britain.83.c
		add_political_power = -50
		set_country_flag = ENG_extensive_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
				}
			}
			country_event = { id = mtg_britain.100 hours = 48 random = 24 }
		}
	}
}

# Event for Dominions asking for vote on Imperial Federation
country_event = {
	id = mtg_britain.100
	title = mtg_britain.99.t
	desc = mtg_britain.100.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Accept
	option = {
		name = mtg_britain.100.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				FROM = { has_country_flag = ENG_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 3
				FROM = { has_country_flag = ENG_extensive_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 0
				tag = RAJ
				ENG = { NOT = { has_completed_focus = ENG_indian_autonomy } }
			}
		}
		custom_effect_tooltip = mtg_britain.100_tt #"If all accept you will get:"
		effect_tooltip = { add_ideas = ENG_federal_integration }
		set_country_flag = ENG_accepted_federation
		FROM = { country_event = { id = mtg_britain.101 } }
	}

	# Reject
	option = {
		name = mtg_britain.100.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
			modifier = {
				factor = 0
				tag = RAJ
				ENG = { has_completed_focus = ENG_indian_autonomy }
				has_opinion = { target = ENG value > 99 }
			}
			modifier = {
				factor = 0
				tag = RAJ
				ENG = { has_completed_focus = ENG_indian_autonomy }
				has_opinion = { target = ENG value > 89 }
				FROM = { has_country_flag = ENG_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 0
				tag = RAJ
				ENG = { has_completed_focus = ENG_indian_autonomy }
				has_opinion = { target = ENG value > 79 }
				FROM = { has_country_flag = ENG_extensive_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 0
				NOT = { tag = RAJ }
				has_opinion = { target = ENG value > 99 }
			}
			modifier = {
				factor = 0
				NOT = { tag = RAJ }
				has_opinion = { target = ENG value > 89 }
				FROM = { has_country_flag = ENG_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 0
				NOT = { tag = RAJ }
				has_opinion = { target = ENG value > 79 }
				FROM = { has_country_flag = ENG_extensive_diplomatic_pressure_flag }
			}
		}
		set_country_flag = ENG_rejected_federation
		FROM = { country_event = { id = mtg_britain.102 } }
	}
}

# Event for ENG telling FROM voted yes on Imperial Federation
country_event = {
	id = mtg_britain.101
	title = mtg_britain.101.t
	desc = mtg_britain.101.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.101.a
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_federation_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_federation_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_federation_answers
			value = 1
		}
		if = {
			limit = {
				OR = {
					AND = {
						RAJ = { is_subject_of = ENG }
						check_variable = {
							var = ENG_imperial_conference_federation_answers
							value = 5
							compare = greater_than_or_equals
						}
					}
					AND = {
						NOT = { RAJ = { is_subject_of = ENG } }
						check_variable = {
							var = ENG_imperial_conference_federation_answers
							value = 4
							compare = greater_than_or_equals
						}
					}
				}
			}
			clr_country_flag = ENG_imperial_conference_discussion_in_progress
			clr_country_flag = ENG_diplomatic_pressure_flag
			clr_country_flag = ENG_extensive_diplomatic_pressure_flag
		}
		if = {
			limit = {
				OR = {
					AND = {
						RAJ = {
							is_subject_of = ENG
							has_country_flag = ENG_accepted_federation
						}
						check_variable = {
							var = ENG_imperial_conference_federation_answers
							value = 5
							compare = greater_than_or_equals
						}
					}
					AND = {
						NOT = { RAJ = { is_subject_of = ENG } }
						check_variable = {
							var = ENG_imperial_conference_federation_answers
							value = 4
							compare = equals
						}
					}
				}
				AND = {
					CAN = {
						is_subject_of = ENG
						has_country_flag = ENG_accepted_federation
					}
					SAF = {
						is_subject_of = ENG
						has_country_flag = ENG_accepted_federation
					}
					AST = {
						is_subject_of = ENG
						has_country_flag = ENG_accepted_federation
					}
					NZL = {
						is_subject_of = ENG
						has_country_flag = ENG_accepted_federation
					}
				}
			}
			country_event = { id = mtg_britain.103 hours = 6 }
		}
		if = {
			limit = {
				RAJ = {
					is_subject_of = ENG
					has_country_flag = ENG_rejected_federation
				}
				check_variable = {
					var = ENG_imperial_conference_federation_answers
					value = 5
					compare = greater_than_or_equals
				}
				NOT = {
					OR = {
						CAN = {
							is_subject_of = ENG
							has_country_flag = ENG_rejected_federation
						}
						SAF = {
							is_subject_of = ENG
							has_country_flag = ENG_rejected_federation
						}
						AST = {
							is_subject_of = ENG
							has_country_flag = ENG_rejected_federation
						}
						NZL = {
							is_subject_of = ENG
							has_country_flag = ENG_rejected_federation
						}
					}
				}
			}
			country_event = { id = mtg_britain.104 hours = 6 }
		}
		if = {
			limit = {
				OR = {
					AND = {
						RAJ = { is_subject_of = ENG }
						check_variable = {
							var = ENG_imperial_conference_federation_answers
							value = 5
							compare = greater_than_or_equals
						}
					}
					AND = {
						NOT = { RAJ = { is_subject_of = ENG } }
						check_variable = {
							var = ENG_imperial_conference_federation_answers
							value = 4
							compare = equals
						}
					}
				}
				OR = {
					CAN = {
						is_subject_of = ENG
						has_country_flag = ENG_rejected_federation
					}
					SAF = {
						is_subject_of = ENG
						has_country_flag = ENG_rejected_federation
					}
					AST = {
						is_subject_of = ENG
						has_country_flag = ENG_rejected_federation
					}
					NZL = {
						is_subject_of = ENG
						has_country_flag = ENG_rejected_federation
					}
				}
			}
			country_event = { id = mtg_britain.105 hours = 6 }
		}
	}
}

# Event for ENG telling FROM voted no on Imperial Federation
country_event = {
	id = mtg_britain.102
	title = mtg_britain.102.t
	desc = mtg_britain.102.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.102.a
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_federation_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_federation_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_federation_answers
			value = 1
		}
		if = {
			limit = {
				check_variable = {
					var = ENG_imperial_conference_federation_answers
					value = 5
					compare = greater_than_or_equals
				}
			}
			clr_country_flag = ENG_imperial_conference_discussion_in_progress
			clr_country_flag = ENG_diplomatic_pressure_flag
			clr_country_flag = ENG_extensive_diplomatic_pressure_flag
		}
		if = {
			limit = {
				RAJ = {
					is_subject_of = ENG
					has_country_flag = ENG_rejected_federation
				}
				check_variable = {
					var = ENG_imperial_conference_federation_answers
					value = 5
					compare = greater_than_or_equals
				}
				NOT = {
					OR = {
						CAN = {
							is_subject_of = ENG
							has_country_flag = ENG_rejected_federation
						}
						SAF = {
							is_subject_of = ENG
							has_country_flag = ENG_rejected_federation
						}
						AST = {
							is_subject_of = ENG
							has_country_flag = ENG_rejected_federation
						}
						NZL = {
							is_subject_of = ENG
							has_country_flag = ENG_rejected_federation
						}
					}
				}
			}
			country_event = { id = mtg_britain.104 hours = 6 }
		}
		if = {
			limit = {
				OR = {
					AND = {
						RAJ = { is_subject_of = ENG }
						check_variable = {
							var = ENG_imperial_conference_federation_answers
							value = 5
							compare = greater_than_or_equals
						}
					}
					AND = {
						NOT = { RAJ = { is_subject_of = ENG } }
						check_variable = {
							var = ENG_imperial_conference_federation_answers
							value = 4
							compare = equals
						}
					}
				}
				OR = {
					CAN = {
						is_subject_of = ENG
						has_country_flag = ENG_rejected_federation
					}
					SAF = {
						is_subject_of = ENG
						has_country_flag = ENG_rejected_federation
					}
					AST = {
						is_subject_of = ENG
						has_country_flag = ENG_rejected_federation
					}
					NZL = {
						is_subject_of = ENG
						has_country_flag = ENG_rejected_federation
					}
				}
			}
			country_event = { id = mtg_britain.105 hours = 6 }
		}
	}
}

# Event for ENG telling all Dominions accepted
country_event = {
	id = mtg_britain.103
	title = mtg_britain.103.t
	desc = mtg_britain.103.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.103.a
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
					AND = {
						is_subject_of = ENG
						tag = MAL
					}
				}
			}
			add_ideas = ENG_federal_integration
		}
		set_country_flag = ENG_dominions_accepted_federation
	}
}

# Event for ENG telling all Dominions except India accepted
country_event = {
	id = mtg_britain.104
	title = mtg_britain.104.t
	desc = mtg_britain.104.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Go through with it anyway - give India independence
	option = {
		name = mtg_britain.104.a
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
					AND = {
						is_subject_of = ENG
						tag = MAL
					}
				}
			}
			add_ideas = ENG_federal_integration
		}
		set_country_flag = ENG_dominions_accepted_federation
		set_autonomy = {
			target = RAJ
			autonomy_state = autonomy_free
		}
		remove_from_faction = RAJ
		RAJ = {
			drop_cosmetic_tag = yes
			retire_country_leader = yes
			remove_from_tech_sharing_group = commonwealth_research
		}
	}

	# We're all in this together - unanimous, or not at all
	option = {
		name = mtg_britain.104.b
	}
}

# Event for ENG telling Federation plans fell through
country_event = {
	id = mtg_britain.105
	title = mtg_britain.105.t
	desc = mtg_britain.105.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.105.a
	}
}

# Event for target saying they are in violation of the Washington Naval Treaty and ENG wants them to scuttle some ships
country_event = {
	id = mtg_britain.106
	title = mtg_britain.106.t
	desc = mtg_britain.106.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.106.a
	}
}

# Event for ENG informing them that the target has scuttled some ships and is now compliant with the treaty
country_event = {
	id = mtg_britain.107
	title = mtg_britain.107.t
	desc = mtg_britain.107.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.107.a
	}
}

# Event for ENG saying target refused to get rid of ships and ENG now has a wargoal
country_event = {
	id = mtg_britain.108
	title = mtg_britain.108.t
	desc = mtg_britain.108.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.108.a
		create_wargoal = {
			target = FROM
			type = puppet_wargoal_focus
			expire = 0
		}
	}
}

# Event for RAJ giving BRM independence
country_event = {
	id = mtg_britain.109
	title = mtg_britain.109.t
	desc = mtg_britain.109.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok I guess
	option = {
		name = mtg_britain.109.a
		release = BRM
	}
}

# Bounce event for correct FROM scope for localization in the "British Empire Allies Imperial Loyalists" news event
country_event = {
	id = mtg_britain.112
	
	is_triggered_only = yes

	hidden = yes

	immediate = {
		news_event = { id = mtg_news.27 days = 1 }
	}
}

####

country_event = {
	id = mtg_britain.999
	title = mtg_britain.999.t
	desc = mtg_britain.999.d
	picture = GFX_report_event_europe_funeral

	trigger = {
		tag = ENG
		has_country_flag = ENG_king_died
		has_dlc = "Man the Guns"
		has_country_flag = ENG_abdication_crisis_morganatic_marriage
		has_country_flag = edward_viii_married_wallis_simpson
		126 = {
			is_controlled_by = ENG
			days_since_last_strategic_bombing < 8
		}
	}
	
	fire_only_once = yes

	mean_time_to_happen = { days = 30 }
	
	option = {
		name = mtg_britain.999.a
		kill_country_leader = yes
		create_country_leader = {
			name = "George VI"
			desc = "POLITICS_GEORGE_VI_DESC"
			picture = "gfx/leaders/PAL/Portrait_Britain_George_VI.dds"
			expire = "1965.1.1"
			ideology = despotism
			traits = {
				popular_figurehead stammer humble
			}
		}
		hidden_effect = { news_event = { id = mtg_news.55 days = 1 } }
	}
}

country_event = {
	id = mtg_britain.1000
	title = mtg_britain.1000.t
	desc = mtg_britain.1000.d
	picture = GFX_report_event_generic_funeral

	fire_only_once = yes
	
	trigger = {
		original_tag = GER
		has_government = neutrality
		date > 1941.1.1
		has_country_leader = { ruling_only = yes name = "George VI" }
	}

	mean_time_to_happen = {
		days = 1460
	}
	
	option = {
		name = mtg_britain.1000.a
		kill_country_leader = yes
		create_country_leader = {
			name = "Elizabeth II"
			desc = "POLITICS_ELIZABETH_II_DESC"
			picture = "GFX_portrait_eng_elizabeth_ii"
			expire = "1965.1.1"
			ideology = despotism
			traits = {
				inexperienced_monarch headstrong popular_queen
			}
		}
		hidden_effect = { news_event = { id = mtg_news.59 days = 1 } }
	}
}